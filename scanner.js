const createScanner = () => {
  const store = [];

  const add = () => {
    const people = [
      ...document
        .getElementsByClassName('FeedbackViewersBlock__items')[0]
        .getElementsByClassName('Viewer__name')
    ]
      .map(x => x.innerText);
    store.push(people);
  };

  const printResult = () => {
    const mentionedPeople = new Set();
    store.reverse().forEach((peopleOfStory, i) => {
      console.log(`STORY ${store.length - i}`);
      peopleOfStory.forEach(x => mentionedPeople.has(x) || mentionedPeople.add(x) && console.log(x));
    });
  };

  return { add, printResult };
};

const scanner = createScanner();

/* FRIENDS CHECKER */

const collection = new Set([
  "Alan Williams",
  "DELETED",
  "DELETED",
  "DELETED",
  "DELETED",
  "Dmitriy Danilenko",
  "Gregory Martin",
  "Natalia Titarenko",
  "Nazih Ibrahim ",
  "Serafim Shvidky",
  "Veniamin Patrikeev",
  "Vladimir Grechuk",
  "Willy Wolf",
  "Августин Иеромонах",
  "Александр Валитов ",
  "Александр Вишняков ",
  "Александр Дидковский ",
  "Александр Драгунов",
  "Александр Кокорев",
  "Александр Кононыхин ",
  "Александр Котов",
  "Александр Кривоногов",
  "Александр Кудлич",
  "Александр Малов",
  "Александр Петров",
  "Александр Петюр",
  "Александр Проскуряков",
  "Александр Расхожев",
  "Александр Сажин",
  "Александр Стрелков",
  "Александр Сухоруков",
  "Александр Сысоев",
  "Александр Ткаченко",
  "Алексей Бараболя ",
  "Алексей Безбородов",
  "Алексей Будько",
  "Алексей Голодников",
  "Алексей Заикин",
  "Алексей Константинов ",
  "Алексей Сбитнев ",
  "Алена Гречко",
  "Алина Богдашко",
  "Альберт Аглиуллин",
  "Альберт Гайнутдинов",
  "Алёна Лепилина ",
  "Анастасия Панфилова",
  "Андрей Венза",
  "Андрей Добржанский ",
  "Андрей Калошин ",
  "Андрей Лавринов",
  "Андрей Машлыкин",
  "Андрей Плешков",
  "Андрей Середа",
  "Андрей Смирнов",
  "Андрей Шиянов",
  "Андрей Шмойлов",
  "Анна Барышникова",
  "Анна Логинова",
  "Анна Насибулаева",
  "Антон Давиденко",
  "Антон Демагин ",
  "Артем Гладышев",
  "Артем Карпенко",
  "Артем Патрушев",
  "Артур Антонян",
  "Артур Глухов",
  "Артур Терещенков ",
  "Артём Барсуков",
  "Аэлина Кондратьева",
  "Богдан Гуштык",
  "Вадим Климов",
  "Вадим Мартынов",
  "Вадим Пономарев",
  "Валера Венза",
  "Ванька Тумаков",
  "Василий Дул",
  "Василий Шаломицкий",
  "Виталий Ведерников",
  "Виталий Коваленко",
  "Виталий Кузнецов ",
  "Виталий Шипяков",
  "Влад Плаксин",
  "Влад Соркин ",
  "Влад Терещенко",
  "Владимир Игнатов",
  "Владимир Крюков",
  "Владимир Мазур",
  "Владимир Проскуряков",
  "Владислав Латыпов",
  "Владислав Пономарёв",
  "Галя Прядкина",
  "Гена Инденок",
  "Георгий Дениченко",
  "Георгий Камшилин",
  "Георгий Камшилин",
  "Георгий Обухов ",
  "Герман Саватеев",
  "Глеб Оленев",
  "Глеб Перфилов",
  "Григорий Дементьев",
  "Григорий Пашпорин",
  "Гриша Дейнеко",
  "Даниил Долгушин",
  "Данил Владимиров",
  "Данил Шишманцев",
  "Денис Осинцев",
  "Денис Прахт",
  "Дима Дербенев",
  "Дмитрий Аксёнов",
  "Дмитрий Аникин",
  "Дмитрий Галицкий",
  "Дмитрий Горчаков ",
  "Дмитрий Егоров",
  "Дмитрий Зотов",
  "Дмитрий Ивахненко ",
  "Евгений Казанский",
  "Евгений Кирьянов",
  "Евгений Павлов",
  "Егор Самойлов",
  "Елизавета Патрушева",
  "Иван Бабин",
  "Иван Егоров ",
  "Иван Климов",
  "Иван Моисеев",
  "Иван Недыхалов",
  "Иван Пономарев",
  "Иван Тунгулин",
  "Иван Юндин",
  "Игорь Абрамов",
  "Игорь Кондрашов",
  "Игорь Лаврионов",
  "Игорь Рапотов ",
  "Игорь Шамаев",
  "Игумен Медведев",
  "Иларион Хроль",
  "Илья Бундзяк ",
  "Илья Глайдер",
  "Илья Никифоров",
  "Илья Пшеничный",
  "Илья Угрюмов",
  "Илья Чернышов",
  "Иоанн Никитин",
  "Ира Фёдорова ",
  "Ирина Волнобой ",
  "Катюша Машлыкина",
  "Кирилл Гарафутдинов",
  "Кирилл Давыденко",
  "Кирилл Новоселов",
  "Кифа Газета",
  "Клавдия Аврамченко",
  "Коля Кузьмин",
  "Константин Локотош",
  "Константин Осинский",
  "Ксения Морозова",
  "Лев Нурсултанов",
  "Лев Тояров",
  "Леонид Квашнин",
  "Леся Гречко",
  "Леся Гречко",
  "Лия Раскенова",
  "Луспарон Тызыхян ",
  "Любовь Дядющенко ",
  "Лёха Стогов",
  "Макс Лысенко",
  "Максим Бойко",
  "Максим Васильев",
  "Максим Дьяченко",
  "Максимчик Андрей",
  "Марина Гречко",
  "Марина Захарова",
  "Марина Каминская",
  "Марк Гладков ",
  "Михаил Друганов",
  "Михаил Савельев ",
  "Настя Гюмюшлю",
  "Никита Артеев ",
  "Николай Глухарёв ",
  "Николай Палиенко",
  "Николай Пильников ",
  "Николай Щукин",
  "Никон Машканцев",
  "Нис Никакой",
  "Олег Олегов",
  "Ольга Мамонтова",
  "Ольга Миронова",
  "Ольга Романенко",
  "Павел Барышников",
  "Павел Кашин",
  "Павел Цой",
  "Петр Шитиков",
  "Путник Одинокий",
  "Рита Александрова",
  "Роман Панасенко",
  "Роман Римский ",
  "Роман Троцко",
  "Роман Ушаков",
  "Роман Фаурян ",
  "Роман Хабаров",
  "Светлана Пономарева",
  "Сергей Задорожний",
  "Сергей Кабанов",
  "Сергей Навалихин",
  "Сергей Рогожин",
  "Серёга Иваненко",
  "Серёга Пахомов",
  "Снежана Ульянова",
  "Станислав Чумаков ",
  "Стас Шумский",
  "Степан Новгородцев ",
  "Татьяна Балабанова ",
  "Эдуард Брякин",
  "Юлия Кудряшова",
  "Юра Бекетов",
  "Юрий Обухов",
  "Юрий Тулик",
  "Яков Дениченко",
  "Ян Гурин",
  "Ян Емельянов",
  "Ярослав Гусев",
  "Ярослав Шашкин"
]);

const friends = [...document.getElementsByClassName('friends_field_title')].map(x => x.innerText).sort();

friends.forEach(f => collection.has(f) || console.log(f));
